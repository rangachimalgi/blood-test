"use strict";(self.webpackChunkreact_ecommerce=self.webpackChunkreact_ecommerce||[]).push([[137],{7662:function(e,n,r){var t=r(4165),a=r(5861),s=r(4942),o=r(3433),c=r(1413),i=r(9439),l=r(2791),d=r(1243),u=r(5316),h=r(5313),x=r(9410),p=r(3360),m=r(2309),f=r(184);n.Z=function(e){var n=e.show,r=e.handleClose,Z=e.CartItem,j=e.setCartItem,g=(0,l.useState)({pincode:"",name:"",email:"",address:"",phoneno:"",age:"",noOfPersons:1,appointmentDate:"",beneficiaries:[],tests:[]}),C=(0,i.Z)(g,2),b=C[0],v=C[1],y=(0,l.useState)(""),k=(0,i.Z)(y,2),N=k[0],P=k[1];(0,l.useEffect)((function(){v((function(e){return(0,c.Z)((0,c.Z)({},e),{},{beneficiaries:Array.from({length:e.noOfPersons},(function(){return{name:"",age:"",gender:""}}))})}))}),[b.noOfPersons]);var I=function(e,n,r){var t=(0,o.Z)(b.beneficiaries);t[e]=(0,c.Z)((0,c.Z)({},t[e]),{},(0,s.Z)({},n,r)),v((0,c.Z)((0,c.Z)({},b),{},{beneficiaries:t}))},A=function(e,n){var r=(0,o.Z)(b.tests);n?r.includes(e)||r.push(e):r=r.filter((function(n){return n!==e})),v((0,c.Z)((0,c.Z)({},b),{},{tests:r}))},T=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.G.includes(b.pincode)){e.next=3;break}return alert("Service is not available in your pincode."),e.abrupt("return");case 3:return n={pincode:b.pincode,name:b.name,email:b.email,address:b.address,phoneno:b.phoneno,age:b.age,noOfPersons:b.noOfPersons,appointmentDate:b.appointmentDate,beneficiaries:b.beneficiaries,tests:b.tests,cartItems:Z},console.log("Order Details: ",n),a=JSON.stringify(n).length,console.log("Payload size: ".concat(a," bytes")),e.prev=7,e.next=10,d.Z.post("".concat("https://blood-test-l0ts.onrender.com","/api/orders"),n);case 10:e.sent.data.success?(j([]),r(),alert("Order submitted successfully!")):alert("Error submitting order. Please try again."),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),console.error("Error submitting order:",e.t0),alert("Error submitting order. Please try again.");case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(u.Z,{show:n,onHide:r,children:[(0,f.jsx)(u.Z.Header,{closeButton:!0,children:(0,f.jsx)(u.Z.Title,{children:"Checkout Form"})}),(0,f.jsx)(u.Z.Body,{children:(0,f.jsxs)(h.Z,{children:[(0,f.jsxs)(h.Z.Group,{controlId:"formPincode",children:[(0,f.jsxs)(x.Z,{children:[(0,f.jsx)(h.Z.Control,{type:"text",placeholder:"Enter Pincode",value:b.pincode,onChange:function(e){return v((0,c.Z)((0,c.Z)({},b),{},{pincode:e.target.value}))},name:"pincode"}),(0,f.jsx)(p.Z,{variant:"outline-secondary",onClick:function(){m.G.includes(b.pincode)?P("Service is available in your pincode!"):P("Sorry, service is not available in your pincode.")},children:"Check Availability"})]}),(0,f.jsx)(h.Z.Text,{className:"text-muted",children:N})]}),(0,f.jsxs)(h.Z.Group,{controlId:"formName",children:[(0,f.jsx)(h.Z.Label,{children:"Name"}),(0,f.jsx)(h.Z.Control,{type:"text",placeholder:"Enter your name",value:b.name,onChange:function(e){return v((0,c.Z)((0,c.Z)({},b),{},{name:e.target.value}))},name:"name"})]}),(0,f.jsxs)(h.Z.Group,{controlId:"formEmail",children:[(0,f.jsx)(h.Z.Label,{children:"Email"}),(0,f.jsx)(h.Z.Control,{type:"email",placeholder:"Enter your email",value:b.email,onChange:function(e){return v((0,c.Z)((0,c.Z)({},b),{},{email:e.target.value}))},name:"email"})]}),(0,f.jsxs)(h.Z.Group,{controlId:"formAddress",children:[(0,f.jsx)(h.Z.Label,{children:"Address"}),(0,f.jsx)(h.Z.Control,{type:"text",placeholder:"Enter your address",value:b.address,onChange:function(e){return v((0,c.Z)((0,c.Z)({},b),{},{address:e.target.value}))},name:"address"})]}),(0,f.jsxs)(h.Z.Group,{controlId:"formPhoneNo",children:[(0,f.jsx)(h.Z.Label,{children:"Phone No"}),(0,f.jsx)(h.Z.Control,{type:"text",placeholder:"Enter your phone no",value:b.phoneno,onChange:function(e){return v((0,c.Z)((0,c.Z)({},b),{},{phoneno:e.target.value}))},name:"phoneno"})]}),(0,f.jsxs)(h.Z.Group,{controlId:"formAge",children:[(0,f.jsx)(h.Z.Label,{children:"Age"}),(0,f.jsx)(h.Z.Control,{type:"text",placeholder:"Enter your age",value:b.age,onChange:function(e){return v((0,c.Z)((0,c.Z)({},b),{},{age:e.target.value}))},name:"age"})]}),(0,f.jsxs)(h.Z.Group,{controlId:"formNoOfPersons",children:[(0,f.jsx)(h.Z.Label,{children:"Number of Persons"}),(0,f.jsx)(h.Z.Control,{as:"select",value:b.noOfPersons,onChange:function(e){var n=parseInt(e.target.value,10);v((0,c.Z)((0,c.Z)({},b),{},{noOfPersons:n,beneficiaries:Array.from({length:n},(function(e,n){return b.beneficiaries[n]||{name:"",age:"",gender:""}}))}))},name:"noOfPersons",children:(0,o.Z)(Array(10).keys()).map((function(e){return(0,f.jsx)("option",{value:e+1,children:e+1},e+1)}))}),(0,f.jsx)(h.Z.Text,{className:"text-warning",children:"Note : The same set of tests/packages will be added for all persons."})]}),(0,f.jsxs)(h.Z.Group,{controlId:"formAppointmentDate",children:[(0,f.jsx)(h.Z.Label,{children:"Appointment Date"}),(0,f.jsx)(h.Z.Control,{as:"select",value:b.appointmentDate,onChange:function(e){return v((0,c.Z)((0,c.Z)({},b),{},{appointmentDate:e.target.value}))},name:"appointmentDate",children:function(){for(var e=[],n=new Date,r=0;r<7;r++){var t=new Date;t.setDate(n.getDate()+r);var a=t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});e.push((0,f.jsx)("option",{value:a,children:a},r))}return e}()})]}),(0,f.jsx)("h5",{children:"Beneficiaries"}),b.beneficiaries.map((function(e,n){return(0,f.jsxs)("div",{children:[(0,f.jsxs)(h.Z.Group,{controlId:"formBeneficiaryName".concat(n),children:[(0,f.jsxs)(h.Z.Label,{children:["Beneficiary Name ",n+1]}),(0,f.jsx)(h.Z.Control,{type:"text",placeholder:"Enter name",value:e.name,onChange:function(e){return I(n,"name",e.target.value)},name:"beneficiaryName".concat(n)})]}),(0,f.jsxs)(h.Z.Group,{controlId:"formBeneficiaryAge".concat(n),children:[(0,f.jsx)(h.Z.Label,{children:"Age"}),(0,f.jsx)(h.Z.Control,{type:"text",placeholder:"Enter age",value:e.age,onChange:function(e){return I(n,"age",e.target.value)},name:"beneficiaryAge".concat(n)})]}),(0,f.jsxs)(h.Z.Group,{controlId:"formBeneficiaryGender".concat(n),children:[(0,f.jsx)(h.Z.Label,{children:"Gender"}),(0,f.jsxs)(h.Z.Control,{as:"select",value:e.gender,onChange:function(e){return I(n,"gender",e.target.value)},name:"beneficiaryGender".concat(n),children:[(0,f.jsx)("option",{value:"",children:"Select Gender"}),(0,f.jsx)("option",{value:"Male",children:"Male"}),(0,f.jsx)("option",{value:"Female",children:"Female"}),(0,f.jsx)("option",{value:"Other",children:"Other"})]})]})]},n)})),(0,f.jsx)("h5",{children:"Select Additional Tests (Optional)"}),(0,f.jsxs)(h.Z.Group,{controlId:"formAdditionalTests",children:[(0,f.jsx)(h.Z.Check,{type:"checkbox",label:"Fasting Blood Sugar (FBS) @ Rs. 80 / Person",checked:b.tests.includes("Fasting Blood Sugar (FBS)"),onChange:function(e){return A("Fasting Blood Sugar (FBS)",e.target.checked)}}),(0,f.jsx)(h.Z.Check,{type:"checkbox",label:"CRP Test @ Rs. 480 / Person",checked:b.tests.includes("CRP Test"),onChange:function(e){return A("CRP Test",e.target.checked)}}),(0,f.jsx)(h.Z.Check,{type:"checkbox",label:"ESR Test @ Rs. 120 / Person",checked:b.tests.includes("ESR Test"),onChange:function(e){return A("ESR Test",e.target.checked)}}),(0,f.jsx)(h.Z.Check,{type:"checkbox",label:"Covid Antibody IgG @ Rs. 400 / Person",checked:b.tests.includes("Covid Antibody IgG"),onChange:function(e){return A("Covid Antibody IgG",e.target.checked)}}),(0,f.jsx)(h.Z.Check,{type:"checkbox",label:"Complete Urine Analysis @ Rs. 510 / Person",checked:b.tests.includes("Complete Urine Analysis"),onChange:function(e){return A("Complete Urine Analysis",e.target.checked)}}),(0,f.jsx)(h.Z.Check,{type:"checkbox",label:"Troponin - Heart Attack Risk Test (ACTNI) @ Rs. 650 / Person",checked:b.tests.includes("Troponin - Heart Attack Risk Test (ACTNI)"),onChange:function(e){return A("Troponin - Heart Attack Risk Test (ACTNI)",e.target.checked)}})]})]})}),(0,f.jsxs)(u.Z.Footer,{children:[(0,f.jsx)(p.Z,{variant:"secondary",onClick:r,children:"Close"}),(0,f.jsx)(p.Z,{variant:"primary",onClick:T,children:"Confirm Purchase"})]})]})}},5137:function(e,n,r){r.r(n);var t=r(9439),a=r(2791),s=r(7689),o=r(8755),c=r(7022),i=r(9743),l=r(2677),d=r(3360),u=r(7662),h=r(184);n.default=function(){var e=(0,a.useState)(!1),n=(0,t.Z)(e,2),r=n[0],x=n[1],p=(0,a.useContext)(o.c),m=p.CartItem,f=p.setCartItem,Z=p.addToCart,j=p.decreaseQty,g=p.deleteProduct,C=m.reduce((function(e,n){return e+n.qty*n.price}),0),b=(0,s.s0)();(0,a.useEffect)((function(){if(window.scrollTo(0,0),0===m.length){var e=localStorage.getItem("cartItem");f(JSON.parse(e))}}),[m,f]);return(0,h.jsxs)("section",{className:"cart-items",children:[(0,h.jsx)(c.Z,{children:(0,h.jsxs)(i.Z,{className:"justify-content-center",children:[(0,h.jsxs)(l.Z,{md:8,children:[0===m.length&&(0,h.jsx)("h1",{className:"no-items product",children:"No Items are added in Cart"}),m.map((function(e){var n=e.price*e.qty;return(0,h.jsx)("div",{className:"cart-list",children:(0,h.jsxs)(i.Z,{children:[(0,h.jsx)(l.Z,{className:"image-holder",sm:4,md:3,children:(0,h.jsx)("img",{src:e.imgUrl,alt:""})}),(0,h.jsx)(l.Z,{sm:8,md:9,children:(0,h.jsxs)(i.Z,{className:"cart-content justify-content-center",children:[(0,h.jsxs)(l.Z,{xs:12,sm:9,className:"cart-details",children:[(0,h.jsx)("h3",{children:e.productName}),(0,h.jsxs)("h4",{children:["\u20b9".concat(e.price,".00")," * ",e.qty,(0,h.jsx)("span",{children:"\u20b9".concat(n,".00")})]})]}),(0,h.jsxs)(l.Z,{xs:12,sm:3,className:"cartControl",children:[(0,h.jsx)("button",{className:"incCart",onClick:function(){return Z(e)},children:(0,h.jsx)("i",{className:"fa-solid fa-plus"})}),(0,h.jsx)("button",{className:"desCart",onClick:function(){return j(e)},children:(0,h.jsx)("i",{className:"fa-solid fa-minus"})})]})]})}),(0,h.jsx)("button",{className:"delete",onClick:function(){return g(e)},children:(0,h.jsx)("ion-icon",{name:"close"})})]})},e.id)}))]}),(0,h.jsx)(l.Z,{md:4,children:(0,h.jsxs)("div",{className:"cart-total",children:[(0,h.jsx)("h2",{children:"Cart Summary"}),(0,h.jsxs)("div",{className:"d_flex",children:[(0,h.jsx)("h4",{children:"Total Price :"}),(0,h.jsx)("h3",{children:"\u20b9".concat(C,".00")})]}),(0,h.jsx)(d.Z,{onClick:function(){return x(!0)},style:{marginTop:"15px",backgroundColor:"#4CAF50",border:"none",padding:"10px 20px",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",fontSize:"16px"},children:"Book Now"}),(0,h.jsx)(d.Z,{onClick:function(){b("/shop")},style:{marginTop:"15px",backgroundColor:"#0F3460",border:"none",padding:"10px 20px",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",fontSize:"16px",marginLeft:"10px"},children:"Add More Tests"})]})})]})}),(0,h.jsx)(u.Z,{show:r,handleClose:function(){return x(!1)},CartItem:m,setCartItem:f})]})}},9410:function(e,n,r){var t=r(5987),a=r(1413),s=r(1694),o=r.n(s),c=r(2791),i=r(6543),l=r(162),d=r(6882),u=r(1991),h=r(184),x=["bsPrefix","size","hasValidation","className","as"],p=(0,i.Z)("input-group-text",{Component:"span"}),m=c.forwardRef((function(e,n){var r=e.bsPrefix,s=e.size,i=e.hasValidation,d=e.className,p=e.as,m=void 0===p?"div":p,f=(0,t.Z)(e,x);r=(0,l.vE)(r,"input-group");var Z=(0,c.useMemo)((function(){return{}}),[]);return(0,h.jsx)(u.Z.Provider,{value:Z,children:(0,h.jsx)(m,(0,a.Z)((0,a.Z)({ref:n},f),{},{className:o()(d,r,s&&"".concat(r,"-").concat(s),i&&"has-validation")}))})}));m.displayName="InputGroup",n.Z=Object.assign(m,{Text:p,Radio:function(e){return(0,h.jsx)(p,{children:(0,h.jsx)(d.Z,(0,a.Z)({type:"radio"},e))})},Checkbox:function(e){return(0,h.jsx)(p,{children:(0,h.jsx)(d.Z,(0,a.Z)({type:"checkbox"},e))})}})}}]);
//# sourceMappingURL=137.6e4afd9f.chunk.js.map