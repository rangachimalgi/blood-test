"use strict";(self.webpackChunkreact_ecommerce=self.webpackChunkreact_ecommerce||[]).push([[857],{8697:function(e,t,s){s.p,s(184)},3622:function(e,t,s){s.d(t,{Z:function(){return u}});var n=s(9439),a=s(2791),r=s(2677),c=s(7689),i=s(6659),o=(s(9085),s(7662)),l=s(7060),d=s(184),u=function(e){var t=e.title,s=e.productItem,u=e.addToCart,m=e.showImage,h=void 0===m||m,p=e.desc,f=e.enableHoverEffect,x=e.isShopList,v=(0,a.useContext)(i.c).setSelectedProduct,j=(0,c.s0)(),N=(0,a.useState)(0),g=(0,n.Z)(N,2),b=g[0],C=g[1],k=(0,a.useState)(!1),y=(0,n.Z)(k,2),w=y[0],Z=y[1],S=(0,a.useState)(null),I=(0,n.Z)(S,2),L=I[0],P=I[1],T=(0,a.useState)(!1),E=(0,n.Z)(T,2),A=E[0],F=E[1];(0,a.useEffect)((function(){var e=function(){F(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var z=function(){v(s),localStorage.setItem("selectedProduct-".concat(s.id),JSON.stringify(s)),j("/shop/".concat(s.id))},q=function(){u(s),A&&"Popular Tests"===t&&setTimeout((function(){j("/cart")}),1e3)},B=function(e){var t=e.match(/\((\d+)\s*Tests\)/i);return t?t[1]:""},O="Popular Packages"===t,R="Popular Tests"===t;if(x)return(0,d.jsxs)(r.Z,{lg:12,md:12,sm:12,xs:12,className:"product-list-item",children:[(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{onClick:z,style:{fontSize:"20px",fontWeight:"600"},children:s.productName.toUpperCase()}),(0,d.jsx)("p",{children:s.labName||"\xa0"})]}),(0,d.jsxs)("div",{className:"product-price",children:[(0,d.jsxs)("h4",{children:["\u20b9",s.price]}),(0,d.jsxs)("div",{className:"product-buttons",children:[(0,d.jsx)("button",{className:"product-button book-now",onClick:z,children:"Book Now"}),(0,d.jsx)("button",{className:"product-button add-to-cart",onClick:q,children:"Add To Cart"})]})]})]});var D=R?"".concat(s.id%4*.15,"s"):"0s";return(0,d.jsx)(r.Z,{lg:3,md:4,sm:6,xs:12,className:"product-col",children:(0,d.jsxs)("div",{className:"product mtop ".concat(f?"hover-enabled":""," ").concat(O?"popular-packages":""," ").concat(R?"popular-test-card":""),style:R?{animationDelay:D}:{},children:[R&&(0,d.jsx)("div",{className:"popular-tests-badge","aria-label":"".concat(B(s.productName)," tests"),children:(0,d.jsx)(l.Z,{number:B(s.productName)})}),(0,d.jsx)("div",{className:"product-image-container",children:h&&(0,d.jsx)("img",{loading:"lazy",onClick:z,src:s.imgUrl||"/Images/GenaralHealthPackage.jpg",alt:s.productName,className:"product-image","aria-label":s.productName,onError:function(e){console.log("Image failed to load, using fallback:",s.productName),e.target.src="/Images/GenaralHealthPackage.jpg"},onLoad:function(){console.log("Image loaded successfully:",s.productName)}})}),R&&(0,d.jsxs)("button",{className:"product-like-btn","aria-label":"Like this test",onClick:function(){C(b+1)},type:"button",children:[(0,d.jsx)("ion-icon",{name:"heart-outline"}),(0,d.jsx)("span",{className:"like-count",children:b})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h3",{onClick:z,tabIndex:0,"aria-label":s.productName,children:s.productName}),p&&(0,d.jsx)("p",{className:"product-description",children:p}),(0,d.jsxs)("div",{className:"price-row",children:[(0,d.jsxs)("span",{className:"product-price",children:["\u20b9",s.price]}),R&&(0,d.jsxs)("button",{"aria-label":"Add to Cart",type:"button",className:"add add-to-cart-modern",onClick:q,children:[(0,d.jsx)("ion-icon",{name:"cart-outline"}),(0,d.jsx)("span",{children:"Add to Cart"})]})]})]}),w&&(0,d.jsx)(o.Z,{show:w,handleClose:function(){Z(!1),P(null)},CartItem:L?[L]:[],setCartItem:function(){}})]})})}},2453:function(e,t,s){s.r(t),s.d(t,{default:function(){return B}});var n=s(4165),a=s(5861),r=s(9439),c=s(7022),i=s(9743),o=s(2677),l=s(1413),d=(s(6294),s(184)),u=s(2791),m=function(e){var t=e.allProducts,s=void 0===t?[]:t,n=e.setFilterList,a=(0,u.useState)(""),c=(0,r.Z)(a,2),i=c[0],o=c[1],l=(0,u.useState)(!1),m=(0,r.Z)(l,2),h=m[0],p=m[1],f=(0,u.useRef)(null),x=(0,u.useCallback)((function(e){var t=e.target.value.toLowerCase();o(t),p(!0),f.current&&clearTimeout(f.current),f.current=setTimeout((function(){var e=s.filter((function(e){var s;return null===(s=e.productName)||void 0===s?void 0:s.toLowerCase().includes(t)}));n(e),p(!1)}),300)}),[s,n]);return(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=s.filter((function(e){var t;return null===(t=e.productName)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase())}));n(t)},className:"search-container",children:[(0,d.jsx)("input",{type:"text",placeholder:"Search tests and packages...",value:i,onChange:x,"aria-label":"Search tests and packages"}),(0,d.jsx)("button",{type:"submit",className:"search-button","aria-label":"Search",children:(0,d.jsx)("ion-icon",{name:h?"reload-outline":"search-outline",class:"search-icon ".concat(h?"searching":"")})})]})},h=s(7689),p=s(5987),f=s(1694),x=s.n(f),v=s(162),j=s(6445),N=["active","disabled","className","style","activeLabel","children"],g=["children"],b=u.forwardRef((function(e,t){var s=e.active,n=void 0!==s&&s,a=e.disabled,r=void 0!==a&&a,c=e.className,i=e.style,o=e.activeLabel,u=void 0===o?"(current)":o,m=e.children,h=(0,p.Z)(e,N),f=n||r?"span":j.Z;return(0,d.jsx)("li",{ref:t,style:i,className:x()(c,"page-item",{active:n,disabled:r}),children:(0,d.jsxs)(f,(0,l.Z)((0,l.Z)({className:"page-link"},h),{},{children:[m,n&&u&&(0,d.jsx)("span",{className:"visually-hidden",children:u})]}))})}));b.displayName="PageItem";var C=b;function k(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=u.forwardRef((function(e,n){var a=e.children,r=(0,p.Z)(e,g);return(0,d.jsxs)(b,(0,l.Z)((0,l.Z)({},r),{},{ref:n,children:[(0,d.jsx)("span",{"aria-hidden":"true",children:a||t}),(0,d.jsx)("span",{className:"visually-hidden",children:s})]}))}));return n.displayName=e,n}var y=k("First","\xab"),w=k("Prev","\u2039","Previous"),Z=k("Ellipsis","\u2026","More"),S=k("Next","\u203a"),I=k("Last","\xbb"),L=["bsPrefix","className","size"],P=u.forwardRef((function(e,t){var s=e.bsPrefix,n=e.className,a=e.size,r=(0,p.Z)(e,L),c=(0,v.vE)(s,"pagination");return(0,d.jsx)("ul",(0,l.Z)((0,l.Z)({ref:t},r),{},{className:x()(n,c,a&&"".concat(c,"-").concat(a))}))}));P.displayName="Pagination";var T=Object.assign(P,{First:y,Prev:w,Ellipsis:Z,Item:C,Next:S,Last:I}),E=(s(3622),s(6659)),A=function(e){var t=e.productItems,s=(0,u.useContext)(E.c).addToCart,n=(0,h.s0)(),a=(0,u.useState)(1),c=(0,r.Z)(a,2),o=c[0],l=c[1],m=(0,u.useState)(!1),p=(0,r.Z)(m,2),f=p[0],x=p[1],v=20;(0,u.useEffect)((function(){console.log("ShopList: productItems updated:",(null===t||void 0===t?void 0:t.length)||0,"items"),l(1)}),[t]);var j=(0,u.useMemo)((function(){if(!t||0===t.length)return[];if(f)return console.warn("Showing all items - this may impact performance on mobile devices"),t;var e=(o-1)*v,s=e+v;return t.slice(e,s)}),[t,o,v,f]),N=Math.ceil(((null===t||void 0===t?void 0:t.length)||0)/v),g=function(e){l(e),window.scrollTo({top:0,behavior:"smooth"})};return t&&0!==t.length?(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,d.jsx)("p",{className:"text-muted mb-0",children:f?"Showing all ".concat(t.length," tests"):"Showing ".concat((o-1)*v+1," to ").concat(Math.min(o*v,t.length)," of ").concat(t.length," tests")}),(0,d.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[!f&&(0,d.jsxs)("p",{className:"text-muted mb-0",children:["Page ",o," of ",N]}),(0,d.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){return x(!f)},children:f?"Show Paginated":"Show All Tests"})]})]}),(0,d.jsx)(i.Z,{className:"justify-content-center shop-list-grid",children:j.map((function(e,t){var a;if(!e||!e.productName)return console.warn("Invalid product item at index ".concat(t,":"),e),null;var r=e.id?"test-".concat(e.id):"shop-item-".concat(t,"-").concat(null===(a=e.productName)||void 0===a?void 0:a.replace(/\s+/g,"-"));return(0,d.jsxs)("div",{className:"shop-list-simple-row",style:{animationDelay:"".concat(t%6*.12,"s")},children:[(0,d.jsx)("div",{className:"shop-list-simple-name",tabIndex:0,role:"button","aria-label":"View details for ".concat(e.productName),onClick:function(){return n("/shop/".concat(e.id))},onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||n("/shop/".concat(e.id))},style:{cursor:"pointer"},children:e.productName}),(0,d.jsxs)("div",{className:"shop-list-simple-price",children:["\u20b9",e.price]}),(0,d.jsxs)("div",{className:"shop-list-simple-buttons",children:[(0,d.jsx)("button",{className:"shop-list-book-button","aria-label":"Book Now",onClick:function(){return n("/shop/".concat(e.id))},children:"Book Now"}),(0,d.jsx)("button",{className:"shop-list-add-to-cart-button","aria-label":"Add to Cart",onClick:function(){s(e)},children:"Add to Cart"})]})]},r)}))}),!f&&N>1&&(0,d.jsx)("div",{className:"d-flex justify-content-center mt-4",children:(0,d.jsxs)(T,{children:[(0,d.jsx)(T.First,{onClick:function(){return g(1)},disabled:1===o}),(0,d.jsx)(T.Prev,{onClick:function(){return g(o-1)},disabled:1===o}),Array.from({length:N},(function(e,t){return t+1})).map((function(e){return 1===e||e===N||e>=o-2&&e<=o+2?(0,d.jsx)(T.Item,{active:e===o,onClick:function(){return g(e)},children:e},e):e===o-3||e===o+3?(0,d.jsx)(T.Ellipsis,{},e):null})),(0,d.jsx)(T.Next,{onClick:function(){return g(o+1)},disabled:o===N}),(0,d.jsx)(T.Last,{onClick:function(){return g(N)},disabled:o===N})]})})]}):(0,d.jsx)("h1",{className:"not-found",children:"Product Not Found !!"})},F=(s(8697),s(3360)),z=function(e){var t=e.onBookNow,s=(0,u.useContext)(E.c),n=s.CartItem,a=s.deleteProduct,r=s.addToCart,c=s.setCartItem,i=n.reduce((function(e,t){return e+t.qty*t.price}),0);return(0,d.jsxs)("div",{className:"cart-summary-container",children:[(0,d.jsxs)("div",{className:"cart-summary-header",children:[(0,d.jsx)("h4",{className:"cart-summary-title",children:"Order Summary"}),n.length>0&&(0,d.jsx)("button",{className:"clear-all-button",onClick:function(){c([]),localStorage.setItem("cartItem",JSON.stringify([]))},title:"Clear all items",children:"\ud83d\uddd1\ufe0f"})]}),0===n.length?(0,d.jsxs)("div",{className:"empty-cart-message",children:[(0,d.jsx)("h5",{children:"Your cart is empty"}),(0,d.jsx)("p",{children:"Add some tests to get started"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"cart-items-list",children:n.map((function(e){var t=e.price*e.qty;return(0,d.jsx)("div",{className:"cart-item-card",children:(0,d.jsxs)("div",{className:"cart-item-details",children:[(0,d.jsx)("h6",{className:"cart-item-name",children:e.productName}),(0,d.jsxs)("p",{className:"cart-item-price",children:["\u20b9",e.price," x ",e.qty," = \u20b9",t]}),(0,d.jsxs)("div",{className:"cart-item-actions",children:[(0,d.jsx)(F.Z,{size:"sm",variant:"outline-success",className:"action-button",onClick:function(){return r(e)},children:"+"}),(0,d.jsx)(F.Z,{size:"sm",variant:"outline-warning",className:"action-button",onClick:function(){return function(e){var t=n.map((function(t){return t.id===e.id?(0,l.Z)((0,l.Z)({},t),{},{qty:t.qty-1}):t})).filter((function(e){return e.qty>0}));c(t),setTimeout((function(){localStorage.setItem("cartItem",JSON.stringify(t))}),0)}(e)},children:"\u2013"}),(0,d.jsx)(F.Z,{size:"sm",variant:"outline-danger",className:"action-button",onClick:function(){return a(e)},children:"\ud83d\uddd1"})]})]})},e.id)}))}),(0,d.jsxs)("div",{className:"cart-summary-footer",children:[(0,d.jsxs)("div",{className:"total-price",children:[(0,d.jsx)("span",{children:"Total Amount:"}),(0,d.jsxs)("span",{className:"price",children:["\u20b9",i]})]}),(0,d.jsx)(F.Z,{onClick:t,className:"add-more-button",children:"Book Now"})]})]})]})},q=s(7662),B=function(){var e=(0,u.useContext)(E.c),t=e.addToCart,s=e.cachedTests,l=e.testsLoading,p=e.fetchTests,f=((0,h.UO)().id,(0,u.useState)([])),x=(0,r.Z)(f,2),v=x[0],j=x[1],N=(0,u.useState)([]),g=(0,r.Z)(N,2),b=g[0],C=g[1],k=(0,u.useState)(!1),y=(0,r.Z)(k,2),w=y[0],Z=y[1],S=(0,u.useState)(!0),I=(0,r.Z)(S,2),L=I[0],P=I[1],T=(0,u.useRef)(null),F=(0,h.s0)();(0,u.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Shop: Loading products, cachedTests:",s.length,"testsLoading:",l),!(s.length>0)){e.next=8;break}console.log("Shop: Using cached tests"),j(s),C(s),P(!1),e.next=24;break;case 8:return console.log("Shop: Fetching tests from API"),P(!0),e.prev=10,e.next=13,p();case 13:t=e.sent,console.log("Shop: Fetched tests:",(null===t||void 0===t?void 0:t.length)||0),t&&t.length>0&&(j(t),C(t)),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),console.error("Shop: Error fetching tests:",e.t0);case 21:return e.prev=21,P(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[10,18,21,24]])})));return function(){return e.apply(this,arguments)}}();e(),window.scrollTo(0,0)}),[s.length,p]);return(0,u.useEffect)((function(){console.log("Shop: filterList updated:",b.length,"items")}),[b]),L?(0,d.jsx)(u.Fragment,{children:(0,d.jsx)("section",{className:"filter-bar",children:(0,d.jsxs)("div",{style:{textAlign:"center",padding:"4rem 2rem"},children:[(0,d.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,d.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,d.jsx)("p",{style:{marginTop:"1rem"},children:"Loading tests..."})]})})}):(0,d.jsxs)(u.Fragment,{children:[(0,d.jsxs)("section",{className:"filter-bar",children:[(0,d.jsx)(c.Z,{className:"filter-bar-container",children:(0,d.jsx)(i.Z,{className:"justify-content-center",children:(0,d.jsx)(o.Z,{md:12,children:(0,d.jsx)(m,{allProducts:v,setFilterList:C})})})}),(0,d.jsx)(c.Z,{children:(0,d.jsxs)(i.Z,{children:[(0,d.jsx)(o.Z,{md:8,children:(0,d.jsx)(A,{productItems:b,addToCart:t})}),(0,d.jsx)(o.Z,{md:4,ref:T,children:(0,d.jsx)(z,{onBookNow:function(){return F("/cart")}})})]})}),(0,d.jsx)("button",{onClick:function(){T.current&&T.current.scrollIntoView({behavior:"smooth"})},className:"fixed-view-cart-button",children:"View Cart"})]}),w&&(0,d.jsx)(q.Z,{show:w,handleClose:function(){return Z(!1)},CartItem:b,setCartItem:function(){}})]})}}}]);
//# sourceMappingURL=857.14afb8ed.chunk.js.map