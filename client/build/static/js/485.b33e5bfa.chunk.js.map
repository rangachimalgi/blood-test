{"version":3,"file":"static/js/485.b33e5bfa.chunk.js","mappings":"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","sources":["pages/OffersList.jsx"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { DataContainer } from \"../App\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport CheckoutForm from \"../components/CheckoutForm\";\nimport Highlight from \"../components/Highlight\";\nimport \"../Styles/HealthPackageList.css\";\nimport logo from \"../Images/logo.png\";\nimport defaultPackageImage from \"../Images/GenaralHealthPackage.jpg\";\n\n// Array of images to cycle through (including the default image)\nconst packageImages = [\n  \"/Images/GenaralHealthPackage.jpg\", // Default image\n  \"/Images/bloodtestone.jpg\",\n  \"/Images/bloodtesttwo.jpg\",\n  \"/Images/bloodtestthree.jpg\",\n  \"/Images/bloodtestfour.jpg\",\n  \"/Images/bloodtestfive.jpg\",\n  \"/Images/bloodtestsix.jpg\",\n  \"/Images/bloodtestseven.jpg\",\n  \"/Images/bloodtesteight.jpg\",\n  \"/Images/bloodtestnine.jpg\"\n];\n\nconst OffersList = () => {\n  const { addToCart, cachedPackages, packagesLoading, fetchPackages } = useContext(DataContainer);\n  const [showCheckout, setShowCheckout] = useState(false);\n  const [selectedPackage, setSelectedPackage] = useState(null);\n  const [allPackages, setAllPackages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const loadPackages = async () => {\n      // Use cached data or fetch if not available\n      if (cachedPackages.length > 0) {\n        setAllPackages(cachedPackages);\n        setLoading(false);\n      } else {\n        if (!packagesLoading) {\n          setLoading(true);\n        }\n        const data = await fetchPackages();\n        setAllPackages(data);\n        setLoading(false);\n      }\n    };\n\n    loadPackages();\n  }, []);\n\n  // Separate effect to update packages when cache changes\n  useEffect(() => {\n    if (cachedPackages.length > 0 && allPackages.length === 0) {\n      setAllPackages(cachedPackages);\n      setLoading(false);\n    }\n  }, [cachedPackages, allPackages.length]);\n\n  const handleBookNow = (pkg) => {\n    setSelectedPackage(pkg);\n    setShowCheckout(true);\n    navigate(`/health/${pkg.id}`);\n  };\n\n  const handleCloseCheckout = () => {\n    setShowCheckout(false);\n    setSelectedPackage(null);\n  };\n\n  // Filter packages by category === \"Offer\"\n  const displayedPackages = allPackages.filter((pkg) => pkg.category === \"Offer\");\n\n  // Calculate total number of tests from includedTests array\n  const extractNumberOfTests = (pkg) => {\n    // If package has includedTests, sum all tests from all categories\n    if (pkg.includedTests && pkg.includedTests.length > 0) {\n      const totalTests = pkg.includedTests.reduce((sum, category) => {\n        return sum + (category.tests?.length || 0);\n      }, 0);\n      return totalTests > 0 ? totalTests.toString() : \"\";\n    }\n    // Fallback: try to extract from productName if includedTests not available\n    const match = pkg.productName?.match(/(\\d+)\\s*Tests/i);\n    return match ? match[1] : \"\";\n  };\n\n  if (loading) {\n    return (\n      <div className=\"packages-list packages-page\">\n        <div style={{ textAlign: 'center', padding: '2rem' }}>\n          <div className=\"spinner-border text-primary\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </div>\n          <p style={{ marginTop: '1rem' }}>Loading offers...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"packages-list packages-page\">\n      <ToastContainer />\n      <div className=\"section-header\" style={{ \n        textAlign: \"center\", \n        marginBottom: \"3rem\",\n        padding: \"0 1rem\"\n      }}>\n        <h2 style={{\n          fontSize: \"2.5rem\",\n          fontWeight: \"700\",\n          color: \"#dc2626\",\n          marginBottom: \"1rem\",\n          textTransform: \"none\"\n        }}>\n          Special Offers\n        </h2>\n        <p style={{\n          fontSize: \"1.1rem\",\n          color: \"#666\",\n          maxWidth: \"600px\",\n          margin: \"0 auto\",\n        }}>\n          Discover our exclusive health package offers with great discounts\n        </p>\n      </div>\n\n      {displayedPackages.length === 0 ? (\n        <div style={{ textAlign: 'center', padding: '3rem' }}>\n          <p style={{ fontSize: '1.2rem', color: '#666' }}>No offers available at the moment.</p>\n        </div>\n      ) : (\n        <div className=\"packages-grid\">\n          {displayedPackages.map((pkg, index) => {\n            // Cycle through the image array for all packages\n            const imageIndex = index % packageImages.length;\n            const imageSrc = packageImages[imageIndex];\n            \n            return (\n              <div key={pkg.id} className=\"package-card\">\n                <Highlight number={extractNumberOfTests(pkg)} />\n                <div className=\"package-image-container\">\n                  <Link to={`/health/${pkg.id}`} className=\"package-link\">\n                    <img\n                      src={imageSrc}\n                      alt={pkg.productName}\n                      className=\"package-image\"\n                      loading=\"lazy\"\n                      decoding=\"async\"\n                      onError={(e) => {\n                        e.target.src = defaultPackageImage;\n                      }}\n                    />\n                  </Link>\n\n                  {/* Move this OUTSIDE the Link */}\n                  <div className=\"hover-overlay\">\n                    <h2>{pkg.overlayTitle?.toUpperCase() || pkg.productName?.toUpperCase()}</h2>\n                    <ul>\n                      {pkg.overlayDetails?.map((detail, index) => (\n                        <li key={index}>{detail.toUpperCase()}</li>\n                      )) || \n                      (pkg.includedTests?.map(category => (\n                        <li key={category.categoryName}>\n                          {`${category.categoryName.split('(')[0]} (${category.tests.length})`}\n                        </li>\n                      )))}\n                    </ul>\n                  </div>\n                </div>\n\n                <Link to={`/health/${pkg.id}`} className=\"package-link\">\n                  <div className=\"package-details\">\n                    <div className=\"package-name\">\n                      {pkg.productName.toUpperCase()}\n                    </div>\n                    {/* <div className=\"package-desc\">\n                      {pkg.desc ? pkg.desc.toUpperCase() : \"\"}\n                    </div> */}\n                  </div>\n                </Link>\n\n                <div className=\"price-cart-box\">\n                  <div className=\"price-box\">\n                    <span className=\"mrp\">&#8377;{pkg.mrp}</span>\n                    <span className=\"discounted-price\">&#8377;{pkg.price}</span>\n                  </div>\n                  <button\n                    className=\"book-now-button\"\n                    onClick={() => handleBookNow(pkg)}\n                    aria-label={`Book ${pkg.productName} now`}\n                  >\n                    Book Now\n                  </button>\n                </div>\n\n                <div className=\"extra-details-with-logo\">\n                  <div className=\"logo-container\">\n                    <img src={logo} alt=\"Fortune Blood Test Logo\" className=\"package-logo\" />\n                  </div>\n                  <div className=\"extra-details\">\n                    <ul>\n                      <li>\n                        <i className=\"fa fa-check-circle\" aria-hidden=\"true\"></i> NABL, CAP, ISO 9001\n                      </li>\n                      <li>\n                        <i className=\"fa fa-check-circle\" aria-hidden=\"true\"></i> Free Home Sample\n                        Pickup\n                      </li>\n                      <li>\n                        <i className=\"fa fa-check-circle\" aria-hidden=\"true\"></i> Online Report\n                        Delivery\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n      {showCheckout && selectedPackage && (\n        <CheckoutForm\n          show={showCheckout}\n          handleClose={handleCloseCheckout}\n          CartItem={selectedPackage ? [selectedPackage] : []}\n          setCartItem={() => {}}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default OffersList;\n\n"],"names":["packageImages","_useContext","useContext","DataContainer","cachedPackages","addToCart","packagesLoading","fetchPackages","_useState","useState","_useState2","_slicedToArray","showCheckout","setShowCheckout","_useState3","_useState4","selectedPackage","setSelectedPackage","_useState5","_useState6","allPackages","setAllPackages","_useState7","_useState8","loading","setLoading","navigate","useNavigate","useEffect","loadPackages","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_context","prev","next","length","sent","stop","apply","arguments","displayedPackages","filter","pkg","category","extractNumberOfTests","_pkg$productName","includedTests","totalTests","reduce","sum","_category$tests","tests","toString","match","productName","_jsx","className","children","_jsxs","style","textAlign","padding","role","marginTop","ToastContainer","marginBottom","fontSize","fontWeight","color","textTransform","maxWidth","margin","map","index","_pkg$overlayTitle","_pkg$productName2","_pkg$overlayDetails","_pkg$includedTests","imageSrc","Highlight","number","Link","to","concat","id","src","alt","decoding","onError","e","target","defaultPackageImage","overlayTitle","toUpperCase","overlayDetails","detail","categoryName","split","mrp","price","onClick","handleBookNow","logo","CheckoutForm","show","handleClose","CartItem","setCartItem"],"sourceRoot":""}